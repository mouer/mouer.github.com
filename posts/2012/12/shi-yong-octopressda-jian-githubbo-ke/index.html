<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Mouer">
    <link href="/favicon.ico" rel="icon">
    <link rel="stylesheet" href="/theme/css/code.css" />
    <link rel="stylesheet" type="text/css" href="/theme/css/main.css" />
    <link href="/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Morse Code ATOM Feed" />
<script type="text/javascript">
	var disqus_identifier = "posts/2012/12/shi-yong-octopressda-jian-githubbo-ke/";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://mouer73.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
  </head>
  <body>
    <h1>Morse Code</h1>
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/posts/2012/12/shi-yong-octopressda-jian-githubbo-ke/" rel="bookmark"
         title="Permalink to 使用Octopress搭建github博客">使用Octopress搭建github博客</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2012-12-15T21:53:00">
      Sat 15 December 2012
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="/author/mouer.html">Mouer</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>因为gfw的原因，Google App Engine当真实蛋疼的紧，有不想花钱弄主机，就在这里搞的blog吧，记录下安装步骤。</p>
<h3>安装</h3>
<div class="highlight"><pre><span class="n">bash</span> <span class="o">-</span><span class="n">s</span> <span class="n">stable</span> <span class="o">&lt;</span> <span class="o">&lt;</span><span class="p">(</span><span class="n">curl</span> <span class="o">-</span><span class="n">s</span> <span class="n">https</span><span class="o">:</span><span class="c1">//raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer) # 安装RVM</span>
<span class="n">echo</span> <span class="err">&#39;</span><span class="p">[[</span> <span class="o">-</span><span class="n">s</span> <span class="s">&quot;$HOME/.rvm/scripts/rvm&quot;</span> <span class="p">]]</span> <span class="o">&amp;&amp;</span> <span class="p">.</span> <span class="s">&quot;$HOME/.rvm/scripts/rvm&quot;</span> <span class="err">&#39;</span> <span class="o">&gt;&gt;</span> <span class="o">~/</span><span class="p">.</span><span class="n">bash_profile</span>    <span class="err">#</span> <span class="err">添加环境变量到</span> <span class="o">~/</span><span class="p">.</span><span class="n">bash_profile</span>
<span class="n">source</span> <span class="o">~/</span><span class="p">.</span><span class="n">bash_profile</span>  <span class="err">#</span> <span class="n">source</span> <span class="err">一下，让它起作用</span>
<span class="n">rvm</span> <span class="n">install</span> <span class="mf">1.9.3</span>    <span class="err">#</span> <span class="err">安装</span><span class="n">ruby1</span><span class="mf">.9.3</span> <span class="p">(</span><span class="n">rvm</span> <span class="n">install</span> <span class="mf">1.9.3</span> <span class="o">--</span><span class="n">with</span><span class="o">-</span><span class="n">gcc</span><span class="o">=</span><span class="n">clang</span><span class="p">)</span>
<span class="n">rvm</span> <span class="mf">1.9.3</span> <span class="o">--</span><span class="k">default</span>  <span class="err">#</span> <span class="err">设置</span><span class="n">ruby</span><span class="err">默认版本为</span><span class="mf">1.9.3</span>
<span class="n">ruby</span> <span class="o">--</span><span class="n">version</span>       <span class="err">#</span> <span class="err">查看当前</span><span class="n">ruby</span><span class="err">版本是否已经被设置</span><span class="mf">1.9.3</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="o">:</span><span class="c1">//github.com/imathis/octopress.git octopress  #从github clone octopress的源代码</span>
<span class="n">cd</span> <span class="n">octopress</span>
<span class="cp">### 安装一些依赖</span>
<span class="n">gem</span> <span class="n">install</span> <span class="n">bundler</span>
<span class="n">bundle</span> <span class="n">install</span>
<span class="n">rake</span> <span class="n">install</span>  <span class="err">#</span> <span class="err">安装主题</span>
<span class="n">rake</span> <span class="n">preview</span>  <span class="err">#</span> <span class="err">本地预览</span> <span class="err">（</span><span class="n">http</span><span class="o">:</span><span class="c1">//localhost:4000/）</span>
</pre></div>


<h3>注意</h3>
<p>如果有同学觉得 <strong>gem</strong> 或者 <strong>rvm</strong> 使用缓慢可以尝试淘宝的ruby源。
<a href="http://ruby.taobao.org/">taoBaoRuby</a></p>
<h3>把blog部署到github</h3>
<div class="highlight"><pre><span class="n">cd</span> <span class="n">octopress</span>
<span class="n">rake</span> <span class="n">setup_github_pages</span> <span class="err">#</span> <span class="err">和</span><span class="n">github</span><span class="err">创建关联</span>
<span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">your_username</span><span class="o">/</span><span class="n">your_username</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">.</span><span class="n">git</span>   <span class="err">#</span> <span class="err">提示输入</span><span class="n">github</span> <span class="n">URL</span>
<span class="n">rake</span> <span class="n">generate</span> <span class="err">#</span> <span class="err">把你所有编辑的内容生成你的</span><span class="n">Blog</span><span class="err">静态页面</span>
<span class="n">rake</span> <span class="n">deploy</span>   <span class="err">#</span> <span class="err">如果检查没有任何问题就可以</span> <span class="n">push</span> <span class="err">你的</span> <span class="n">blog</span> <span class="err">到</span> <span class="n">github</span> <span class="n">master</span> <span class="n">branch</span>

<span class="cp">### 状态检查</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">octopress</span>
<span class="n">git</span> <span class="n">status</span>   <span class="err">#</span> <span class="err">应该显示</span> <span class="n">On</span> <span class="n">branch</span> <span class="n">source</span>
<span class="n">cd</span> <span class="n">_deploy</span><span class="o">/</span>  <span class="err">#</span> <span class="err">应该显示</span> <span class="n">On</span> <span class="n">branch</span> <span class="n">master</span>

<span class="cp">### 最后提交到source branch</span>
<span class="n">git</span> <span class="n">add</span> <span class="p">.</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="err">&#39;</span><span class="n">first</span> <span class="n">commit</span><span class="err">&#39;</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">source</span> <span class="err">#</span> <span class="err">如果这一步出错，请再次检查仓库名称是否按要求命名，同时检查</span><span class="n">Admin</span><span class="err">面板下</span><span class="n">Default</span> <span class="n">Branch</span><span class="err">是否为</span> <span class="n">master</span>
</pre></div>


<h3>更新Octopress</h3>
<div class="highlight"><pre><span class="n">git</span> <span class="n">pull</span> <span class="n">octopress</span> <span class="n">master</span>     <span class="err">#</span> <span class="n">Get</span> <span class="n">the</span> <span class="n">latest</span> <span class="n">Octopress</span>
<span class="n">bundle</span> <span class="n">install</span>                <span class="err">#</span> <span class="n">Keep</span> <span class="n">gems</span> <span class="n">updated</span>
<span class="n">rake</span> <span class="n">update_source</span>            <span class="err">#</span> <span class="n">update</span> <span class="n">the</span> <span class="n">template</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">source</span>
<span class="n">rake</span> <span class="n">update_style</span>             <span class="err">#</span> <span class="n">update</span> <span class="n">the</span> <span class="n">template</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">style</span>
</pre></div>


<h3>新建文章</h3>
<div class="highlight"><pre><span class="n">rake</span> <span class="n">new_post</span><span class="p">[</span><span class="s">&quot;title&quot;</span><span class="p">]</span>         <span class="err">#</span> <span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span><span class="o">-</span><span class="n">post</span><span class="o">-</span><span class="n">title</span><span class="p">.</span><span class="n">md</span>
</pre></div>


<h3>分类方式</h3>
<div class="highlight"><pre><span class="nl">categories:</span> <span class="p">[</span><span class="n">octopreess</span><span class="p">,</span> <span class="n">github</span><span class="p">]</span>
</pre></div>


<h3>如果已经存在了github上面的Octopress，取回本地的操作</h3>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="o">-</span><span class="n">b</span> <span class="n">source</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">username</span><span class="o">/</span><span class="n">username</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">.</span><span class="n">git</span> <span class="n">octopress</span> <span class="err">#</span> <span class="n">get</span> <span class="n">the</span> <span class="n">source</span> <span class="n">code</span> <span class="n">from</span> <span class="n">your</span> <span class="s">&quot;source&quot;</span> <span class="n">branch</span> <span class="n">of</span> <span class="n">your</span> <span class="n">octopress</span> <span class="n">on</span> <span class="n">github</span>
<span class="n">cd</span> <span class="n">octopress</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">username</span><span class="o">/</span><span class="n">username</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">.</span><span class="n">git</span> <span class="n">_deploy</span> <span class="err">#</span> <span class="n">get</span> <span class="n">your</span> <span class="k">static</span> <span class="n">pages</span> <span class="n">content</span> <span class="n">from</span> <span class="n">your</span> <span class="s">&quot;master&quot;</span><span class="n">branch</span> <span class="n">of</span> <span class="n">your</span> <span class="n">cotopress</span> <span class="n">on</span> <span class="n">github</span>
</pre></div>


<h3>一般操作</h3>
<div class="highlight"><pre><span class="mf">1.</span> <span class="n">rake</span> <span class="n">new_post</span><span class="p">[</span><span class="s">&quot;title&quot;</span><span class="p">]</span>
<span class="mf">2.</span> <span class="err">快乐的点东西</span>
<span class="mf">3.</span> <span class="n">rake</span> <span class="n">generate</span>
<span class="mf">4.</span> <span class="n">rake</span> <span class="n">deploy</span>
<span class="mf">5.</span> <span class="n">git</span> <span class="n">add</span> <span class="p">.</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">am</span> <span class="err">&#39;</span><span class="n">blog</span><span class="err">&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">source</span>     <span class="err">#</span> <span class="err">把写的文件备份到</span><span class="n">source</span><span class="err">分支</span>
</pre></div>
  </div><!-- /.entry-content -->
</section>
    <div id="disqus_thread"></div>
    <hr/>
    <footer>
    Powered by Pelican © 2014 Mouer
    </footer>
  </body>
</html>